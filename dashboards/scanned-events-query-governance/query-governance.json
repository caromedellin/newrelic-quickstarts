{
  "name": "Query Governance",
  "description": null,

  "pages": [
    {
      "name": "BSE Governance",
      "description": null,
      "widgets": [
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 1,
            "width": 3,
            "height": 9
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "![New Relic](https://newrelic.com/sites/default/files/2022-05/MediaAsset_Tiles_RGB_POS_HZ.svg) \n# Governance Dashboard ![New Relic logo](https://newrelic.com/static-assets/images/icons/avatar-newrelic.png)\n## Get insights on how your data is accessed at deep granularity.\n> Base table example:\n>>`FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' SINCE 1 week ago until now`\n## Accounts in this dashboard:\nEnable crossaccount dashboards to be able to load several accounts at once\n| **Account Name**                               | **Account ID** |\n| ---------------------------------------------- | -------------- |\n| Account Name 1  | ######        |\n| Account Name 1                                        | ######         |\n| Account Name 1                                  | ######        |\n| Account Name 1                   | ######        |\n| Account Name 1                       | ######        |\n\n## Scanned Events:\n- Total Volume\n- Daily Trends\n## Unique User Trends:\n- Monthly Volume of users scanning events\n- User Trend for scanned events\n### Monthly volume by source:\n#### Where is are the highest percentages of scanned events coming from?\n##### Main sources include:\n- Dashboards\n- Nerdgraph\n- Distributed Tracing\n- Legacy API\n## Resources:\n[How to query your scanned events](<https://docs-preview.newrelic.com/docs/query-based-pricing?utm_source=customer-dashboard&utm_medium=asset&utm_campaign=quickstart&utm_content=custom-dashboard>)\n"
          }
        },
        {
          "title": "Monthly SE Progress",
          "layout": {
            "column": 4,
            "row": 1,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' SINCE this month until now"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Daily SE (limit set at 100,000)",
          "layout": {
            "column": 7,
            "row": 1,
            "width": 6,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1000000000 AS 'Billion SE' WHERE isCustomerInitiated is NULL SINCE 1 week ago TIMESERIES 1 day"
              },
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT latest(100000) AS 'Daily Limit' TIMESERIES 1 day SINCE 1 week ago"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "User count ",
          "layout": {
            "column": 4,
            "row": 4,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT uniqueCount(user) WHERE isCustomerInitiated is NULL SINCE this month until now "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Users querying regardless of SE Volume",
          "layout": {
            "column": 7,
            "row": 4,
            "width": 6,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT uniqueCount(user) WHERE isCustomerInitiated is NULL SINCE this month until now TIMESERIES"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Monthly SE Volume By Source",
          "layout": {
            "column": 4,
            "row": 7,
            "width": 5,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.pie"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": true
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' WHERE isCustomerInitiated is NULL SINCE this month until now Facet nr.source"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Monthly SE Volume By NR Source",
          "layout": {
            "column": 9,
            "row": 7,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' WHERE isCustomerInitiated is NULL SINCE this month until now Facet nr.source TIMESERIES "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        }
      ]
    },
    {
      "name": "Dashboards",
      "description": null,
      "widgets": [
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 1,
            "width": 3,
            "height": 9
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "# Data Governance: ![New Relic logo](https://newrelic.com/static-assets/images/icons/avatar-newrelic.png)\n## Dashboard Usage\n## Use this to add context for the data in your dashboards\n**Dashboard usage:**\nTo view scanned events for the New Relic data source `'chart-data-service (production) - NR1'`, use the following query:\n\n> `FROM NrdbQuery\nSELECT sum(scannedEvents) / 1e9 AS 'Billion SE'\nWHERE nr.source ='chart-data-service (production) - NR1'\nSINCE this month until now`\n## Dashboard Scanned Event Volume:\n#### What is the number of scanned events originating from dashboards alone, and what are the daily trends?\n## Top 20 Dashboards:\nDashboards orderes by SE volume\n- Percentages monthly\n- Trends for heaviest dashboards\n## Event Types (In Dashboards Only)\nAccesses events (tables)\n- Percentages monthly\n- Trends"
          }
        },
        {
          "title": "Top SE Volume 20  Dashboards",
          "layout": {
            "column": 4,
            "row": 1,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' WHERE nr.source ='chart-data-service (production) - NR1'  SINCE this month until now "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "SE Volume By  Dashboards Only",
          "layout": {
            "column": 7,
            "row": 1,
            "width": 6,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' WHERE nr.source ='chart-data-service (production) - NR1' is NOT NULL SINCE this month until now TIMESERIES"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Heaviest  20  Dashboards SE Volume",
          "layout": {
            "column": 4,
            "row": 4,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.pie"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": true
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' WHERE nr.source = 'chart-data-service (production) - NR1' SINCE this month until now facet `source.dashboardId` LIMIT 20"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Heaviest 20  Dashboards SE Volume",
          "layout": {
            "column": 8,
            "row": 4,
            "width": 5,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' WHERE nr.source = 'chart-data-service (production) - NR1' SINCE this month until now facet `source.dashboardId` LIMIT 20 TIMESERIES "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "SE Volume By Event Type",
          "layout": {
            "column": 4,
            "row": 7,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.pie"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": true
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' WHERE nr.source = 'chart-data-service (production) - NR1' SINCE this month until now FACET query.eventType"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "SE Volume By Event Type",
          "layout": {
            "column": 8,
            "row": 7,
            "width": 5,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' WHERE nr.source = 'chart-data-service (production) - NR1' SINCE this month until now FACET query.eventType TIMESERIES"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        }
      ]
    },
    {
      "name": "Insights API",
      "description": null,
      "widgets": [
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 1,
            "width": 2,
            "height": 9
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "# Data Governance: ![New Relic logo](https://newrelic.com/static-assets/images/icons/avatar-newrelic.png)\n## Insights API\n## Usage of the legacy insights API\nYou'll find API Keys distributions\n\n**Insights API Usage:**\nTo view scanned events for the New Relic data source `nr.source = 'insights_query_api'`, use the following query:\n\n> `FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' WHERE nr.source = 'insights_query_api' SINCE this month until now`\n## Insights API Scanned Event Volume:\n#### What is the number of scanned events originating from insights api alone, and what are the daily trends?\n## Top Event Types:\nTables with the most scanned events\n- Percentages monthly\n- Trends \n## API Keys (In Insights API Only)\nAccesses events (tables)\n- Percentages monthly\n- Trends"
          }
        },
        {
          "title": "Insights API - SE Volume",
          "layout": {
            "column": 3,
            "row": 1,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' WHERE nr.source = 'insights_query_api' SINCE this month until now "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Insights API SE Volume Trend",
          "layout": {
            "column": 7,
            "row": 1,
            "width": 6,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' WHERE nr.source = 'insights_query_api' SINCE this month until now TIMESERIES"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Insights API: SE Volume By Event Type",
          "layout": {
            "column": 3,
            "row": 4,
            "width": 5,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.pie"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": true
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' WHERE nr.source = 'insights_query_api' SINCE this month until now FACET query.eventType"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Insights API: SE Volume Event Type",
          "layout": {
            "column": 8,
            "row": 4,
            "width": 5,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' WHERE nr.source = 'insights_query_api' SINCE this month until now FACET query.eventType TIMESERIES"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "SE Volume By API Key On Insights API",
          "layout": {
            "column": 3,
            "row": 7,
            "width": 5,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.pie"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": true
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' WHERE nr.source = 'insights_query_api' SINCE this month until now FACET source.apiKeyId"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "SE Volume By API Key On Insights API",
          "layout": {
            "column": 8,
            "row": 7,
            "width": 5,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' WHERE nr.source = 'insights_query_api' SINCE this month until now FACET source.apiKeyId TIMESERIES"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        }
      ]
    },
    {
      "name": "Users",
      "description": null,
      "widgets": [
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 1,
            "width": 3,
            "height": 12
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "# Data Governance: ![New Relic logo](https://newrelic.com/static-assets/images/icons/avatar-newrelic.png)\n## User Trends\n### Scanned Event Volume by Use\n\n\n**User Trends:**\nTo view scanned events for the New Relic data source `isCustomerInitiated`, use the following query:\n### For User Volume regardless of SE Volume\n> `FROM NrdbQuery SELECT uniqueCount(user) WHERE isCustomerInitiated is NULL SINCE this month until now`\n### For SE Volume By User\n> `FROM NrdbQuery SELECT sum(scannedEvents) / 1000000000 AS 'Billion SE' WHERE isCustomerInitiated is NULL SINCE this month until now `\n### Total User Volume:\nUsers often perform queries, regardless of their size. These can be quite small.\n- User Volume\n- User Trends\n### User by SE Volume\nUsers ordered by the volume of SEs\n- SE Percent for Top 30 Users\n- SE Trends by user\n### Unique User Count By Account\n\nUsers volume by account regardless of SE volume \n\n- Account Volume\n- Account Volume Trends"
          }
        },
        {
          "title": "Users Performing Queries",
          "layout": {
            "column": 4,
            "row": 1,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT uniqueCount(user) WHERE isCustomerInitiated is NULL SINCE this month until now "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Users Trend: Count of unique users performing queries",
          "layout": {
            "column": 7,
            "row": 1,
            "width": 6,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT uniqueCount(user) WHERE isCustomerInitiated is NULL SINCE this month until now TIMESERIES"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Top 30 User By SE Volume",
          "layout": {
            "column": 4,
            "row": 4,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.pie"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": true
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1000000000 AS 'Billion SE' WHERE isCustomerInitiated is NULL SINCE this month until now  FACET user LIMIT 30"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Top 30: Users By Volume of SE",
          "layout": {
            "column": 8,
            "row": 4,
            "width": 5,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1000000000 AS 'Billion SE' WHERE isCustomerInitiated is NULL SINCE this month until now TIMESERIES FACET user LIMIT 30"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Unique User Count",
          "layout": {
            "column": 4,
            "row": 7,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT uniqueCount(user) WHERE isCustomerInitiated is NULL SINCE this month until now FACET accountId()"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Count of users performing a query",
          "layout": {
            "column": 8,
            "row": 7,
            "width": 5,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT uniqueCount(user) WHERE isCustomerInitiated is NULL SINCE this month until now FACET accountId() TIMESERIES "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Queries by User",
          "layout": {
            "column": 4,
            "row": 10,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.pie"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": true
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1000000000 AS 'Billion SE' WHERE isCustomerInitiated is NULL SINCE this month until now  FACET accountId() LIMIT 30"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Volume of scanned events by user",
          "layout": {
            "column": 8,
            "row": 10,
            "width": 5,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1000000000 AS 'Billion SE' WHERE isCustomerInitiated is NULL SINCE this month until now  FACET accountId() TIMESERIES "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        }
      ]
    },
    {
      "name": "Nerdgraph",
      "description": null,
      "widgets": [
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 1,
            "width": 3,
            "height": 9
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "# Data Governance: ![New Relic logo](https://newrelic.com/static-assets/images/icons/avatar-newrelic.png)\n## Nerdgraph\n## Usage of Nerdgraph\nYou'll find API Keys distributions\n\n**Insights API Usage:**\nTo view scanned events for the New Relic data source `nr.source = 'NerdGraph'`, use the following query:\n\n> `FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' WHERE nr.source = 'NerdGraph' SINCE this month until now`\n## Nerdgraph Scanned Event Volume:\n#### What is the number of scanned events originating from Nerdgraph alone, and what are the daily trends?\n## Top Event Types:\nTables with the most scanned events\n- Percentages monthly\n- Trends \n## NerdGraph By User (NerdGraph Only)\nUsers accessing Nerdgraph\n- Percentages monthly\n- Trends"
          }
        },
        {
          "title": "Total Volume of SE by Nerdgraph",
          "layout": {
            "column": 4,
            "row": 1,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' WHERE nr.source = 'NerdGraph' SINCE this month until now"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Volume of SE - Nerdgraph",
          "layout": {
            "column": 7,
            "row": 1,
            "width": 6,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' WHERE nr.source = 'NerdGraph' SINCE this month until now TIMESERIES"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Nerdgraph Event Types - SE Vollume",
          "layout": {
            "column": 4,
            "row": 4,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.pie"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": true
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' WHERE nr.source = 'NerdGraph' SINCE this month until now FACET query.eventType"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Event Types Nerdgraph Trend By Volume of SE",
          "layout": {
            "column": 8,
            "row": 4,
            "width": 5,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' WHERE nr.source = 'NerdGraph' SINCE this month until now FACET query.eventType TIMESERIES"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Nerdgraph Users By Volume",
          "layout": {
            "column": 4,
            "row": 7,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' WHERE nr.source = 'NerdGraph' SINCE this month until now FACET user limit 20"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Nerdgraph User Trends By SE Volume",
          "layout": {
            "column": 8,
            "row": 7,
            "width": 5,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' WHERE nr.source = 'NerdGraph' SINCE this month until now FACET user TIMESERIES "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        }
      ]
    },
    {
      "name": "Event Types",
      "description": null,
      "widgets": [
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 1,
            "width": 3,
            "height": 9
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "# Data Governance: ![New Relic logo](https://newrelic.com/static-assets/images/icons/avatar-newrelic.png)\n## Event Types\n## Usage Of Events\nYou'll the most used event based on scanned volume\n\n**Event Types:**\nTo view scanned events for the New Relic event types `FACET query.eventType`, use the following query:\n\n> `FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' SINCE this month until now FACET query.eventType`\n## Scanned Event Volume:\n#### What is the number of scanned events originating, and what are the daily trends?\n## Top Event Types:\nTables with the most scanned events\n- Percentages monthly\n- Event Types By Source\n## Trends for the most SEs by event type and source\n"
          }
        },
        {
          "title": "Event Types BY SE Volume",
          "layout": {
            "column": 4,
            "row": 1,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.pie"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": true
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' SINCE this month until now FACET query.eventType"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Event Types By SE Volume",
          "layout": {
            "column": 8,
            "row": 1,
            "width": 5,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE'  SINCE this month until now FACET query.eventType TIMESERIES"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Top 3 Event Types By SE Volume",
          "layout": {
            "column": 4,
            "row": 4,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.pie"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": true
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' SINCE this month until now FACET query.eventType, nr.source LIMIT 3"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Top Event Types: SE Volume By Source",
          "layout": {
            "column": 8,
            "row": 4,
            "width": 5,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.table"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' SINCE this month until now FACET query.eventType, nr.source LIMIT 10"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Top Event Types: SE Volume By Source",
          "layout": {
            "column": 4,
            "row": 7,
            "width": 9,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' SINCE this month until now FACET query.eventType, nr.source LIMIT 5 TIMESERIES "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        }
      ]
    },
    {
      "name": "Optimizations",
      "description": null,
      "widgets": [
        {
          "title": "Volume of SE By Query Duration",
          "layout": {
            "column": 1,
            "row": 1,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.pie"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": true
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM Query SELECT sum(scannedEvents) \nFACET if(durationHours<1, '0-1 hrs', if(durationHours<6, '1-6 hrs', if(durationHours<12, '6-12 hrs', if(durationHours<24, '12-24 hrs', if(durationHours<48, '1-2 days', if(durationHours<72, '2-3 days', if(durationHours<168, '3-7 days', if(durationHours<336, '1-2 weeks', if(durationHours<672, '2-4 weeks', 'greater than 1 month'))))))))) AS myFacet"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Volume of SE By Query Duration",
          "layout": {
            "column": 5,
            "row": 1,
            "width": 8,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM Query SELECT sum(scannedEvents) \nFACET if(durationHours<1, '0-1 hrs', if(durationHours<6, '1-6 hrs', if(durationHours<12, '6-12 hrs', if(durationHours<24, '12-24 hrs', if(durationHours<48, '1-2 days', if(durationHours<72, '2-3 days', if(durationHours<168, '3-7 days', if(durationHours<336, '1-2 weeks', if(durationHours<672, '2-4 weeks', 'greater than 1 month'))))))))) AS myFacet TIMESERIES"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Optimization Most Consuming Select Type",
          "layout": {
            "column": 1,
            "row": 4,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.pie"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": true
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' SINCE this week until now FACET capture(query, r'.*SELECT (?P<SelectedMetric>[^ FROM]+).*') "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Optimization Most Consuming Select Type",
          "layout": {
            "column": 5,
            "row": 4,
            "width": 8,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.area"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' SINCE this week until now FACET capture(query, r'.*SELECT (?P<SelectedMetric>[^ FROM]+).*') TIMESERIES "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Optimizations Select Type, Event Type, Source",
          "layout": {
            "column": 1,
            "row": 7,
            "width": 12,
            "height": 2
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.table"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM NrdbQuery SELECT sum(scannedEvents) / 1e9 AS 'Billion SE' SINCE this month until now FACET capture(query, r'.*SELECT (?P<SelectedMetric>[^ FROM]+).*'), query.eventType, nr.source LIMIT 30"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        }
      ]
    }
  ],
  "variables": [
    {
      "name": "user_id",
      "items": null,
      "defaultValues": [],
      "nrqlQuery": {
        "accountIds": [],
        "query": "select uniques(user) from NrdbQuery"
      },
      "title": "User Id",
      "type": "NRQL",
      "isMultiSelection": false,
      "replacementStrategy": "STRING"
    }
  ]
}