{
  "name": "Azure Custom Vision Prediction",
  "description": null,

  "pages": [
    {
      "name": "Cognitive Service Custom Vision Prediction",
      "description": null,
      "widgets": [
        {
          "title": "Total calls",
          "layout": {
            "column": 1,
            "row": 1,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM Metric SELECT SUM(`azure.cognitiveservices.accounts.TotalCalls`) AS 'Total Calls' WHERE collector.name='azure-monitor' AND azure.resourceType='microsoft.cognitiveservices/accounts' AND (azure.cognitiveservices.accounts.apiname LIKE '%CustomVision%' OR azure.cognitiveservices.accounts.apiname LIKE '%Custom_Vision_Prediction%')"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "thresholds": [
              {
                "alertSeverity": "WARNING"
              }
            ]
          }
        },
        {
          "title": "Total errors",
          "layout": {
            "column": 4,
            "row": 1,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM Metric SELECT SUM(`azure.cognitiveservices.accounts.TotalErrors`) AS 'Total Errors' WHERE collector.name='azure-monitor' AND azure.resourceType='microsoft.cognitiveservices/accounts' AND (azure.cognitiveservices.accounts.apiname LIKE '%CustomVision%' OR azure.cognitiveservices.accounts.apiname LIKE '%Custom_Vision_Prediction%')"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "thresholds": [
              {
                "alertSeverity": "CRITICAL",
                "value": 0
              }
            ]
          }
        },
        {
          "title": "",
          "layout": {
            "column": 7,
            "row": 1,
            "width": 6,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "# Azure Custom Vision Prediction\nAzure Custom Vision is an image recognition service that lets you build, deploy, and improve your own image identifier models. An image identifier applies labels to images, according to their visual characteristics."
          }
        },
        {
          "title": "Total calls by operarion name",
          "layout": {
            "column": 1,
            "row": 4,
            "width": 6,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.pie"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": true
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM Metric SELECT SUM(`azure.cognitiveservices.accounts.TotalCalls`) AS 'Total Calls' WHERE collector.name='azure-monitor' AND azure.resourceType='microsoft.cognitiveservices/accounts' AND (azure.cognitiveservices.accounts.apiname LIKE '%CustomVision%' OR azure.cognitiveservices.accounts.apiname LIKE '%Custom_Vision_Prediction%') FACET azure.cognitiveservices.accounts.operationname"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Call details",
          "layout": {
            "column": 7,
            "row": 4,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.stacked-bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM Metric SELECT SUM(`azure.cognitiveservices.accounts.SuccessfulCalls`) AS 'Total Successful Calls', SUM(`azure.cognitiveservices.accounts.BlockedCalls`) AS 'Total Blocked Calls', SUM(`azure.cognitiveservices.accounts.TotalErrors`) AS 'Total Error Calls' WHERE collector.name='azure-monitor' AND azure.resourceType='microsoft.cognitiveservices/accounts' AND (azure.cognitiveservices.accounts.apiname LIKE '%CustomVision%' OR azure.cognitiveservices.accounts.apiname LIKE '%Custom_Vision_Prediction%') TIMESERIES AUTO"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Errors",
          "layout": {
            "column": 10,
            "row": 4,
            "width": 3,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.stacked-bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM Metric SELECT SUM(`azure.cognitiveservices.accounts.ClientErrors`) AS 'Total Client Errors', SUM(`azure.cognitiveservices.accounts.ServerErrors`) AS 'Total Server Errors' WHERE collector.name='azure-monitor' AND azure.resourceType='microsoft.cognitiveservices/accounts' AND (azure.cognitiveservices.accounts.apiname LIKE '%CustomVision%' OR azure.cognitiveservices.accounts.apiname LIKE '%Custom_Vision_Prediction%') TIMESERIES AUTO"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "units": {
              "unit": "COUNT"
            }
          }
        },
        {
          "title": "Custom vision transactions",
          "layout": {
            "column": 1,
            "row": 7,
            "width": 6,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.stacked-bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM Metric SELECT SUM(`azure.cognitiveservices.accounts.CustomVisionTransactions`) AS 'Total Custom Vision Transactions' WHERE collector.name='azure-monitor' AND azure.resourceType='microsoft.cognitiveservices/accounts' AND (azure.cognitiveservices.accounts.apiname LIKE '%CustomVision%' OR azure.cognitiveservices.accounts.apiname LIKE '%Custom_Vision_Prediction%') FACET azure.cognitiveservices.accounts.featurename TIMESERIES AUTO"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Success rate",
          "layout": {
            "column": 7,
            "row": 7,
            "width": 6,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM Metric SELECT AVERAGE(`azure.cognitiveservices.accounts.SuccessRate`)/100 AS 'Average Success Rate' WHERE collector.name = 'azure-monitor' AND azure.resourceType = 'microsoft.cognitiveservices/accounts' AND (azure.cognitiveservices.accounts.apiname LIKE '%CustomVision%' OR azure.cognitiveservices.accounts.apiname LIKE '%Custom_Vision_Prediction%') TIMESERIES AUTO"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "units": {
              "unit": "PERCENTAGE"
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Total data",
          "layout": {
            "column": 1,
            "row": 10,
            "width": 7,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.stacked-bar"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM Metric SELECT SUM(`azure.cognitiveservices.accounts.DataIn`) AS 'Total Data In', SUM(`azure.cognitiveservices.accounts.DataOut`) AS 'Total Data Out'  WHERE collector.name='azure-monitor' AND azure.resourceType='microsoft.cognitiveservices/accounts' AND (azure.cognitiveservices.accounts.apiname LIKE '%CustomVision%' OR azure.cognitiveservices.accounts.apiname LIKE '%Custom_Vision_Prediction%') TIMESERIES AUTO"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "units": {
              "unit": "BYTES"
            }
          }
        },
        {
          "title": "Latency by region",
          "layout": {
            "column": 8,
            "row": 10,
            "width": 5,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountIds": [],
                "query": "FROM Metric SELECT AVERAGE(`azure.cognitiveservices.accounts.Latency`) AS 'Average Latency' WHERE collector.name='azure-monitor' AND azure.resourceType='microsoft.cognitiveservices/accounts' and (azure.cognitiveservices.accounts.apiname LIKE '%CustomVision%' OR azure.cognitiveservices.accounts.apiname LIKE '%Custom_Vision_Prediction%') FACET azure.cognitiveservices.accounts.region TIMESERIES AUTO"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "units": {
              "unit": "MS"
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        }
      ]
    }
  ],
  "variables": []
}